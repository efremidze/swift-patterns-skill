---
phase: 01-compliance-output-foundations
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - swift-patterns/SKILL.md
  - swift-patterns/references/sources.md
autonomous: true
must_haves:
  truths:
    - "Skill entry point exposes required metadata and instructions in SKILL.md"
    - "A single Constraints section exists and is referenced by workflows"
    - "Citation rule restricts sources to the allowlist in references/sources.md"
  artifacts:
    - path: "swift-patterns/SKILL.md"
      provides: "Agent Skills frontmatter and constraints entry point"
      contains: ["name: swift-patterns", "## Constraints"]
    - path: "swift-patterns/references/sources.md"
      provides: "Citation allowlist for approved sources"
      contains: ["# Sources", "Allowed URLs"]
  key_links:
    - from: "swift-patterns/SKILL.md"
      to: "swift-patterns/references/sources.md"
      via: "Citation allowlist rule"
      pattern: "references/sources.md"
    - from: "swift-patterns/SKILL.md"
      to: "Constraints section"
      via: "Workflow references"
      pattern: "Constraints"
---

<objective>
Define the authoritative skill entry point for compliance: required metadata, a single constraints section, and a citation allowlist rule.

Purpose: Satisfies COMP-01/COMP-02 and establishes a single constraints source for Phase 1.
Output: Updated `swift-patterns/SKILL.md` and a new `swift-patterns/references/sources.md` allowlist.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-compliance-output-foundations/01-RESEARCH.md
@swift-patterns/SKILL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Align SKILL metadata and constraints entry point</name>
  <files>swift-patterns/SKILL.md</files>
  <action>
Ensure YAML frontmatter includes `name: swift-patterns` and a concise `description` that matches the skill purpose. Add a single "Constraints" section near the top of the file with clear bullets that mirror AGENTS.md scope limits (Swift/SwiftUI focus, no architecture mandates, no formatting/linting rules, no tool-specific steps, no UIKit/server-side Swift). Add a citation rule bullet that explicitly restricts citations to URLs listed in `swift-patterns/references/sources.md`. In the Workflow Decision Tree (or a short note immediately before it), add a sentence stating that all workflows must follow the Constraints section to prevent drift.
  </action>
  <verify>Open `swift-patterns/SKILL.md` and confirm valid YAML frontmatter, a single Constraints section, and a workflow note that references it.</verify>
  <done>SKILL.md has compliant frontmatter, one Constraints section, and explicit citation allowlist guidance referenced by the workflow entry.</done>
</task>

<task type="auto">
  <name>Task 2: Create the citation allowlist file</name>
  <files>swift-patterns/references/sources.md</files>
  <action>
Create `swift-patterns/references/sources.md` with a short description that citations may only use URLs listed in this file. Add an "Allowed URLs" bullet list containing:
- https://agentskills.io/specification.md
- https://raw.githubusercontent.com/agentskills/agentskills/main/skills-ref/README.md
- https://developer.apple.com/documentation/swiftui/
- https://developer.apple.com/documentation/swift/
- https://developer.apple.com/documentation/swift/concurrency
Keep the file concise and in plain Markdown.
  </action>
  <verify>Open `swift-patterns/references/sources.md` and confirm the allowlist statement and URL list are present.</verify>
  <done>Allowlist file exists with explicit URLs and is ready for the citation rule in SKILL.md.</done>
</task>

</tasks>

<verification>
- `swift-patterns/SKILL.md` contains YAML frontmatter, a single Constraints section, and a workflow reference to that section.
- `swift-patterns/references/sources.md` exists and is referenced by the SKILL citation rule.
</verification>

<success_criteria>
- SKILL.md is spec-compliant and exposes one authoritative constraints section.
- Citation allowlist is explicit and enforced via a rule pointing to `swift-patterns/references/sources.md`.
</success_criteria>

<output>
After completion, create `.planning/phases/01-compliance-output-foundations/01-01-SUMMARY.md`.
</output>
